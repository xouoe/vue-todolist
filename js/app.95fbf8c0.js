(function(){"use strict";var t={4660:function(t,e,o){var s=o(144),n=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("div",{staticClass:"todo-container"},[e("div",{staticClass:"todo-wrap"},[e("UserHeader"),e("UserList",{attrs:{todos:t.todos}}),e("UserFooter",{attrs:{todos:t.todos}})],1)])])},i=[],r=(o(7658),function(){var t=this,e=t._self._c;return e("div",{staticClass:"todo-header"},[t._m(0),e("input",{directives:[{name:"model",rawName:"v-model",value:t.input,expression:"input"}],attrs:{type:"text",placeholder:"請增加你的事項(按Enter)"},domProps:{value:t.input},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.Add.apply(null,arguments)},input:function(e){e.target.composing||(t.input=e.target.value)}}})])}),d=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"title"},[e("h1",[t._v("To do list")])])}],l={name:"UserHeader",data(){return{input:""}},methods:{Add(){if(this.input.trim()){const t={id:Math.random(),item:this.input,done:!1};this.$bus.$emit("Addtodo",t),this.input=""}else alert("不能輸入空值")}}},a=l,u=o(1001),c=(0,u.Z)(a,r,d,!1,null,"63c33fd4",null),h=c.exports,f=function(){var t=this,e=t._self._c;return t.todos.length?e("div",{staticClass:"todo-footer"},[e("label",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.isall,expression:"isall"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.isall)?t._i(t.isall,null)>-1:t.isall},on:{change:function(e){var o=t.isall,s=e.target,n=!!s.checked;if(Array.isArray(o)){var i=null,r=t._i(o,i);s.checked?r<0&&(t.isall=o.concat([i])):r>-1&&(t.isall=o.slice(0,r).concat(o.slice(r+1)))}else t.isall=n}}})]),e("span",[e("span",[t._v("全選")]),e("br"),t._v(" "),e("span",[t._v("已完成"+t._s(t.Amountdone)+"項")]),t._v(" /"),e("span",[t._v("全部"+t._s(t.todos.length)+"項")])]),e("button",{staticClass:"btn btn-danger",on:{click:function(e){return t.deleteDone(t.todos.id)}}},[t._v("清除已勾選事務")])]):t._e()},p=[],m={name:"UserFooter",props:["todos","AllCheck","DeleteAlltodo"],computed:{Amountdone(){return this.todos.reduce(((t,e)=>t+(e.done?1:0)),0)},isall:{get(){return this.Amountdone===this.todos.length&&this.Amountdone>0},set(t){this.$bus.$emit("AllCheck",t)}}},methods:{deleteDone(t){this.$bus.$emit("DeleteAlltodo",t)}}},v=m,b=(0,u.Z)(v,f,p,!1,null,"2ac91d08",null),$=b.exports,k=function(){var t=this,e=t._self._c;return e("ul",{staticClass:"todo-main"},t._l(t.todos,(function(t){return e("UserItem",{key:t.id,attrs:{todoItem:t}})})),1)},_=[],g=function(){var t=this,e=t._self._c;return e("div",[e("li",[e("label",[e("input",{attrs:{type:"checkbox"},domProps:{checked:t.todoItem.done},on:{change:function(e){return t.handleCheck(t.todoItem.id)}}}),e("span",{directives:[{name:"show",rawName:"v-show",value:!t.todoItem.isEdit,expression:"!todoItem.isEdit"}]},[t._v(t._s(t.todoItem.item))]),e("input",{directives:[{name:"show",rawName:"v-show",value:t.todoItem.isEdit,expression:"todoItem.isEdit"}],ref:"focusItem",attrs:{type:"text"},domProps:{value:t.todoItem.item},on:{blur:function(e){return t.handleblur(t.todoItem,e)}}})]),e("button",{staticClass:"btn btn-danger",on:{click:function(e){return t.handleDelete(t.todoItem.id)}}},[t._v("刪除")]),e("button",{directives:[{name:"show",rawName:"v-show",value:!t.todoItem.isEdit,expression:"!todoItem.isEdit"}],staticClass:"btn btn-edit",on:{click:function(e){return t.handleisEdit(t.todoItem)}}},[t._v("編輯")])])])},y=[],A={name:"UserItem",props:["todoItem"],methods:{handleCheck(t){this.$bus.$emit("Checktodo",t)},handleDelete(t){this.$bus.$emit("Deletetodo",t)},handleisEdit(t){t.hasOwnProperty("isEdit")?t.isEdit=!0:this.$set(t,"isEdit",!0),this.$nextTick((t=>{this.$refs.focusItem.focus()}))},handleblur(t,e){t.isEdit=!1,e.target.value.trim()&&this.$bus.$emit("Updatetodo",t.id,e.target.value)}},computed:{}},C=A,w=(0,u.Z)(C,g,y,!1,null,"1ec478a4",null),I=w.exports,x={name:"UserList",components:{UserItem:I},props:["todos"]},E=x,D=(0,u.Z)(E,k,_,!1,null,"5da22e4c",null),O=D.exports,U={data(){return{todos:JSON.parse(localStorage.getItem("todos"))||[]}},methods:{Addtodo(t){this.todos.push(t)},Deletetodo(t){this.todos=this.todos.filter((e=>e.id!=t))},Edittodo(t,e){this.todos.forEach((o=>{o.id==t&&(o.item=e)}))},Checktodo(t){this.todos.forEach((e=>{e.id==t&&(e.done=!e.done)}))},AllCheck(t){this.todos.forEach((e=>{e.done=t}))},DeleteAlltodo(){this.todos=this.todos.filter((t=>!t.done))}},watch:{todos:{deep:!0,handler(t){localStorage.setItem("todos",JSON.stringify(t))}}},mounted(){this.$bus.$on("Checktodo",this.Checktodo),this.$bus.$on("Deletetodo",this.Deletetodo),this.$bus.$on("Updatetodo",this.Edittodo),this.$bus.$on("Addtodo",this.Addtodo),this.$bus.$on("DeleteAlltodo",this.DeleteAlltodo),this.$bus.$on("AllCheck",this.AllCheck)},beforeDestroy(){this.$bus.$off("Checktodo"),this.$bus.$off("Deletetodo"),this.$bus.$off("Updatetodo"),this.$bus.$off("Addtodo"),this.$bus.$off("AllCheck")},components:{UserHeader:h,UserList:O,UserFooter:$}},P=U,Z=(0,u.Z)(P,n,i,!1,null,null,null),N=Z.exports;s.ZP.config.productionTip=!1,new s.ZP({el:"#app",render:t=>t(N),beforeCreate(){s.ZP.prototype.$bus=this}})}},e={};function o(s){var n=e[s];if(void 0!==n)return n.exports;var i=e[s]={exports:{}};return t[s].call(i.exports,i,i.exports,o),i.exports}o.m=t,function(){var t=[];o.O=function(e,s,n,i){if(!s){var r=1/0;for(u=0;u<t.length;u++){s=t[u][0],n=t[u][1],i=t[u][2];for(var d=!0,l=0;l<s.length;l++)(!1&i||r>=i)&&Object.keys(o.O).every((function(t){return o.O[t](s[l])}))?s.splice(l--,1):(d=!1,i<r&&(r=i));if(d){t.splice(u--,1);var a=n();void 0!==a&&(e=a)}}return e}i=i||0;for(var u=t.length;u>0&&t[u-1][2]>i;u--)t[u]=t[u-1];t[u]=[s,n,i]}}(),function(){o.d=function(t,e){for(var s in e)o.o(e,s)&&!o.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};o.O.j=function(e){return 0===t[e]};var e=function(e,s){var n,i,r=s[0],d=s[1],l=s[2],a=0;if(r.some((function(e){return 0!==t[e]}))){for(n in d)o.o(d,n)&&(o.m[n]=d[n]);if(l)var u=l(o)}for(e&&e(s);a<r.length;a++)i=r[a],o.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return o.O(u)},s=self["webpackChunkvue_test"]=self["webpackChunkvue_test"]||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))}();var s=o.O(void 0,[998],(function(){return o(4660)}));s=o.O(s)})();
//# sourceMappingURL=app.95fbf8c0.js.map